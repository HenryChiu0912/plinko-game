import random
import time
from colorama import init, Fore, Back, Style

init(autoreset=True)

class PlinkoBoard:
    def __init__(self, width, height):
        self.width = width
        self.height = height
        self.slots = [' '] * width

    def display(self, ball_position):
        print('-' * (self.width * 2 + 1))
        for i in range(self.height):
            for j in range(self.width):
                if i == ball_position[0] and j == ball_position[1]:
                    print(Fore.RED + 'O', end=' ')
                else:
                    print(Back.BLUE + self.slots[j], end=' ')
            print(Style.RESET_ALL)
        print('-' * (self.width * 2 + 1))

    def drop_ball(self, position):
        while position[0] < self.height:
            self.slots[position[1]] = '|'
            self.display(position)
            time.sleep(0.3)
            self.slots[position[1]] = ' '
            move = random.choice([-1, 1])
            position = (position[0] + 1, position[1] + move)
        self.slots[position[1]] = '|'
        self.display(position)


def main():
    width = 7
    height = 10
    board = PlinkoBoard(width, height)
    ball_position = (0, random.randint(0, width - 1))
    board.drop_ball(ball_position)


if __name__ == "__main__":
    main()
